<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace="pakage + interface" 동일해야 한다 -->
<mapper namespace="com.mp4.like.mapper.LikeMapper">

	<!-- 1. 좋아요 -->
	<insert id="like">
		insert into bookmark(id)
		values(#{id})
	</insert>
	
	<!-- 2. 좋아요 취소 -->
	<delete id="unlike">
		delete from bookmark
		where id = #{id}
	</delete>
	
	<!-- 3-1. 리스트 *-->
	<select id="list" resultType="com.mp4.like.vo.LikeVO">
		select m.title, m.singer, m.image, l.likeNo, l.id
		from bookmark l, music m
		where l.id = #{id}
	</select>
	
	<!-- 3-2. 전체 데이터 -->
	<select id="getTotalRow" resultType="java.lang.Long">
		select count(*) from
		bookmark
	</select>
	
	<!-- 4. 좋아요 처리 *-->
	<select id="bookmark" resultType="com.mp4.like.vo.LikeVO">
		select likeNo, id
		from bookmark
		where likeNo = #{likeNo}
	</select>

</mapper>